{
  "code": "class Solution:\r\n    def lengthOfLongestAP(self, A, n):\r\n        if n <= 2:\r\n            return n\r\n        ans = 0\r\n        dp = [[float('-inf')] * (A[n-1] - A[0] + 1) for _ in range(n+1)]\r\n        for i in range(1, n):\r\n            for j in range(i):\r\n                diff = A[i] - A[j]\r\n                cnt = 1\r\n                if dp[j][diff] != float('-inf'):\r\n                    cnt = dp[j][diff]\r\n                dp[i][diff] = cnt + 1\r\n                ans = max(ans, dp[i][diff])\r\n        return ans\r\n\r\n#{ \r\n # Driver Code Starts\r\n#Initial Template for Python 3\r\n\r\nif __name__ == '__main__':\r\n    tc = int(input())\r\n    while tc > 0:\r\n        n = int(input())\r\n        A = list(map(int, input().split()))\r\n        ob = Solution()\r\n        ans = ob.lengthOfLongestAP(A, n)\r\n        print(ans)\r\n        tc -= 1\r\n\r\n# } Driver Code Ends",
  "status": "1",
  "language": "python3",
  "user_code": "#User function Template for python3\r\nclass Solution:\r\n    def lengthOfLongestAP(self, A, n):\r\n        if n <= 2:\r\n            return n\r\n        ans = 0\r\n        dp = [[float('-inf')] * (A[n-1] - A[0] + 1) for _ in range(n+1)]\r\n        for i in range(1, n):\r\n            for j in range(i):\r\n                diff = A[i] - A[j]\r\n                cnt = 1\r\n                if dp[j][diff] != float('-inf'):\r\n                    cnt = dp[j][diff]\r\n                dp[i][diff] = cnt + 1\r\n                ans = max(ans, dp[i][diff])\r\n        return ans\r\n\r\n"
}