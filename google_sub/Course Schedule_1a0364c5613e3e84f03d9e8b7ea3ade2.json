{
  "code": "#include <bits/stdc++.h>\r\nusing namespace std;\r\n\r\n// } Driver Code Ends\r\n//User function Template for C++\r\n\r\nclass Solution\r\n{\r\n  public:\r\n     vector<int> findOrder(int n, int m, vector<vector<int>> pre) {\r\n        vector<vector<int>> g(n);\r\n        vector<int> ind(n,0);\r\n        queue<int> q;\r\n        vector<int> ans;\r\n        \r\n        for(auto x:pre){\r\n            g[x[1]].push_back(x[0]);\r\n            ind[x[0]]++;\r\n        }\r\n        \r\n        for(int i=0; i<n; i++){\r\n            if(ind[i] == 0) q.push(i);\r\n        }\r\n        \r\n        while(!q.empty()){\r\n            int f = q.front();\r\n            q.pop();\r\n            ans.push_back(f);\r\n            for(auto x:g[f]){\r\n                ind[x]--;\r\n                if(ind[x] == 0) q.push(x);\r\n            }\r\n        }\r\n        \r\n        if(ans.size()!=n) return {};\r\n        return ans;\r\n    }\r\n};\r\n\r\n//{ Driver Code Starts.\r\n\r\nint check(int V, vector <int> &res, vector<int> adj[]) {\r\n    vector<int> map(V, -1);\r\n    for (int i = 0; i < V; i++) {\r\n        map[res[i]] = i;\r\n    }\r\n    for (int i = 0; i < V; i++) {\r\n        for (int v : adj[i]) {\r\n            if (map[i] > map[v]) return 0;\r\n        }\r\n    }\r\n    return 1;\r\n}\r\n\r\nint main() {\r\n    int T;\r\n    cin >> T;\r\n    while (T--) {\r\n        int n, m;\r\n        cin >> n >> m;\r\n        int u, v;\r\n\r\n        vector<vector<int>> prerequisites;\r\n\r\n        for (int i = 0; i < m; i++) {\r\n            cin >> u >> v;\r\n            prerequisites.push_back({u,v});\r\n        }\r\n        \r\n        vector<int> adj[n];\r\n        for (auto pre : prerequisites)\r\n            adj[pre[1]].push_back(pre[0]);\r\n        \r\n        Solution obj;\r\n        vector <int> res = obj.findOrder(n, m, prerequisites);\r\n        if(!res.size())\r\n            cout<<\"No Ordering Possible\"<<endl;\r\n        else\r\n            cout << check(n, res, adj) << endl;\r\n    }\r\n    \r\n    return 0;\r\n}\r\n// } Driver Code Ends",
  "status": "1",
  "language": "cpp",
  "user_code": "//User function Template for C++\r\n\r\nclass Solution\r\n{\r\n  public:\r\n     vector<int> findOrder(int n, int m, vector<vector<int>> pre) {\r\n        vector<vector<int>> g(n);\r\n        vector<int> ind(n,0);\r\n        queue<int> q;\r\n        vector<int> ans;\r\n        \r\n        for(auto x:pre){\r\n            g[x[1]].push_back(x[0]);\r\n            ind[x[0]]++;\r\n        }\r\n        \r\n        for(int i=0; i<n; i++){\r\n            if(ind[i] == 0) q.push(i);\r\n        }\r\n        \r\n        while(!q.empty()){\r\n            int f = q.front();\r\n            q.pop();\r\n            ans.push_back(f);\r\n            for(auto x:g[f]){\r\n                ind[x]--;\r\n                if(ind[x] == 0) q.push(x);\r\n            }\r\n        }\r\n        \r\n        if(ans.size()!=n) return {};\r\n        return ans;\r\n    }\r\n};\r\n"
}