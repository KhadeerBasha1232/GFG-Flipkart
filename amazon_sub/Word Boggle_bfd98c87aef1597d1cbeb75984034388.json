{
  "code": "//Initial Template for Java\r\n\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\nclass GFG\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        int t = sc.nextInt();\r\n        while(t>0)\r\n        {\r\n            int N = sc.nextInt();\r\n            String[] dictionary = new String[N];\r\n            for(int i=0;i<N;i++)\r\n            {\r\n                dictionary[i] = sc.next();\r\n            }\r\n            \r\n            int R = Integer.parseInt(sc.next());\r\n            int C = Integer.parseInt(sc.next());\r\n            \r\n            char board[][] = new char[R][C];\r\n            for(int i=0;i<R;i++)\r\n            {\r\n                for(int j=0;j<C;j++)\r\n                {\r\n                    board[i][j] = sc.next().charAt(0);\r\n                }\r\n            }\r\n            \r\n            Solution obj = new Solution();\r\n            String[] ans = obj.wordBoggle(board, dictionary);\r\n            \r\n            if(ans.length == 0) System.out.println(\"-1\");\r\n            else\r\n            {\r\n                Arrays.sort(ans);\r\n                for(int i=0;i<ans.length;i++)\r\n                {\r\n                    System.out.print(ans[i] + \" \");\r\n                }\r\n                System.out.println();\r\n            }\r\n            \r\n            t--;\r\n        }\r\n    }\r\n}\r\n\r\n// } Driver Code Ends\r\n\r\n\r\n//User function Template for Java\r\n\r\nclass Solution {\r\n    public String[] wordBoggle(char board[][], String[] dictionary) {\r\n        List<String> ans = new ArrayList<>();\r\n        int n = board.length;\r\n        int m = board[0].length;\r\n\r\n        for (String s : dictionary) {\r\n            boolean flag = true;\r\n            int[][] vis = new int[n][m];\r\n\r\n            for (int i = 0; i < n; i++) {\r\n                for (int j = 0; j < m; j++) {\r\n                    if (board[i][j] == s.charAt(0) && vis[i][j] == 0 && solution(i, j, 1, board, s, vis)) {\r\n                        ans.add(s);\r\n                        flag = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!flag) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        String[] str = new String[ans.size()];\r\n        ans.toArray(str);\r\n        return str;\r\n    }\r\n\r\n    public boolean solution(int i, int j, int k, char[][] board, String ssf, int[][] vis) {\r\n        if(k==ssf.length()){\r\n            return true;\r\n        }\r\n        int n = board.length;\r\n        int m = board[0].length;\r\n        vis[i][j] = 1;\r\n        int[] dx = { -1, -1, 0, 1, 1, 1, 0, -1 };\r\n        int[] dy = { 0, 1, 1, 1, 0, -1, -1, -1 };\r\n\r\n        for (int m1 = 0; m1 < 8; m1++) {\r\n            int nr = i + dx[m1];\r\n            int nc = j + dy[m1];\r\n\r\n            if (nr >= 0 && nr < n && nc >= 0 && nc < m && vis[nr][nc] == 0 && board[nr][nc] == ssf.charAt(k)) {\r\n                if (solution(nr, nc, k + 1, board, ssf, vis)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        vis[i][j] = 0;\r\n        return false;\r\n    }\r\n}",
  "status": "1",
  "language": "java",
  "user_code": "\r\n\r\n//User function Template for Java\r\n\r\nclass Solution {\r\n    public String[] wordBoggle(char board[][], String[] dictionary) {\r\n        List<String> ans = new ArrayList<>();\r\n        int n = board.length;\r\n        int m = board[0].length;\r\n\r\n        for (String s : dictionary) {\r\n            boolean flag = true;\r\n            int[][] vis = new int[n][m];\r\n\r\n            for (int i = 0; i < n; i++) {\r\n                for (int j = 0; j < m; j++) {\r\n                    if (board[i][j] == s.charAt(0) && vis[i][j] == 0 && solution(i, j, 1, board, s, vis)) {\r\n                        ans.add(s);\r\n                        flag = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!flag) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        String[] str = new String[ans.size()];\r\n        ans.toArray(str);\r\n        return str;\r\n    }\r\n\r\n    public boolean solution(int i, int j, int k, char[][] board, String ssf, int[][] vis) {\r\n        if(k==ssf.length()){\r\n            return true;\r\n        }\r\n        int n = board.length;\r\n        int m = board[0].length;\r\n        vis[i][j] = 1;\r\n        int[] dx = { -1, -1, 0, 1, 1, 1, 0, -1 };\r\n        int[] dy = { 0, 1, 1, 1, 0, -1, -1, -1 };\r\n\r\n        for (int m1 = 0; m1 < 8; m1++) {\r\n            int nr = i + dx[m1];\r\n            int nc = j + dy[m1];\r\n\r\n            if (nr >= 0 && nr < n && nc >= 0 && nc < m && vis[nr][nc] == 0 && board[nr][nc] == ssf.charAt(k)) {\r\n                if (solution(nr, nc, k + 1, board, ssf, vis)) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        vis[i][j] = 0;\r\n        return false;\r\n    }\r\n}"
}